# Loopback extra query filters
This package provides extra query filters for loopback.

The extra filters do not change queries generated by [loopback-datasource-juggler](https://github.com/strongloop/loopback-datasource-juggler), but are applied to the resulting object.

# Installation

[Reference mixins in server/model-config.js](https://loopback.io/doc/en/lb3/Defining-mixins.html#reference-mixins-in-model-configjs)

```
{
  "_meta": {
    ...
    "mixins": [
      ...
      "../node_modules/loopback-extra-query-filters/mixins"
    ]
  }
}
```
[Enable a model with mixins](https://loopback.io/doc/en/lb3/Defining-mixins.html#enable-a-model-with-mixins)

```
{
  "name": "note",
  "base": "PersistedModel",
  ...
  "mixins": {
    "ExtraQueryFilters" : true
  }
  "properties": {
    ...
  },
  ...
}
```

### Extra query filters

- has - Check if you have the property.
- notHas - Check if you do not have the property.
- isEmpty -Check if array property is empty
- isNotEmpty - Check if array property is not empty.

### Examples

- Filter:

```
// Product has category (Ex.: relation belongsTo)
{
  "include": {
    "relation": "category",
  },
  "has": "category" //or ["category", ...]
}

// Product has no category (Ex.: relation belongsTo)
{
  "include": {
    "relation": "category",
  },
  "notHas": "category" //or ["category", ...]
}

// Product without items (Ex.: relation hasMany)
{
  "include": {
    "relation": "items",
  },
  "isEmpty": "items" //or ["items", ...]
}

// Product with items (Ex.: relation hasMany)
{
  "include": {
    "relation": "items",
  },
  "isNotEmpty": "items" //or ["items", ...]
}
```
